# Архитектура вычислительной системы

## Моя операционная система и процессор

- Процессор - Intel(R) Core(TM) i5-7200U CPU @ 2.50GHz

- ОС - Linux 5.9.16-1-MANJARO


## Требуемая память структур

Память будет указана в байтах

### Память атомарных тиипов
- `int` - 4
- `double` - 4
- `char` - 1
- `bool` - 1
- `*T` - 8

класс `Plain`
- `Trsansport::speed` - 4, отступ 0
- `Trasnport::distance` - 4, отступ 4
- `Plain::fly_distance` - 4, отступ 8
- `Plain::lifitng_capacity` - 4, отступ 12

Итого: 16 + 8 (указатель на таблицу виртуальных функций)


Структура `Ship`
- `Transport::speed` - 4, отступ 0
- `Trasnport::distance` - 4, отступ 4
- `Ship::displace` - 4, отступ 8

Итого: Некоректно, т.к. `Ship` абстрактный класс


Структура `Liner`
- `Transport::speed` - 4, отступ 0
- `Trasnport::distance` - 4, отступ 4
- `Ship::displace` - 4, отступ 8


Итого: 12 + 8 (указатель на таблицу виртуальных функций)

Структура `Tug`
- `Transport::speed` - 4, отступ 0
- `Trasnport::distance` - 4, отступ 4
- `Ship::displace` - 4, отступ 8


Итого: 12 + 8 (указатель на таблицу виртуальных функций)

Структура `Tanker`
- `Transport::speed` - 4, отступ 0
- `Trasnport::distance` - 4, отступ 4
- `Ship::displace` - 4, отступ 8


Итого: 12 + 8 (указатель на таблицу виртуальных функций)

Стуктура `Train`
- `Transport::speed` - 4, отступ 0
- `Transport::distance` - 4, отступ 4
- `Train::cars_counter` - 4, отступ 8

Итого: 12 + 8 (указатель на таблицу виртуальных функций)

Струтура `Transport`
- `Transport::speed` - 4 
- `Transport::distance` - 4

Итого: Некоректно, т.к. `Transport` интерфейс

Структура `container`
- `len` - 4, отступ 0
- `cont` - 80000, на куче 200000 (максимально), отступ 4

Итого: 80004, на куче не более 200000

## Модули программы

Для каждой структуры из предыущего пункта по 1 `.h` и `.cpp` файлу.
Дополнительно `rnd.h` для генирации случайных чисел и файл с точкой вода в программу `main.cpp`

Итого: 6 интерфейсных модулей и 6 модулей реализации их общий вес 18,8 Kib

## Время прохождения тестов

| Тест            | Структурная | ООП      |
| :----:          |    :----:   |   :----: |
| `trains.txt`    | 0,002s      | 0,011s   |
| `plains.txt`    | 0,014s      | 0,014s   |
| `ships.txt`     | 0,012s      | 0,015s   |
| `mixed.txt`     | 0,011s      | 0,010    |
| `mixed2.txt`    | 0,007s      | 0,023s   |
| `genered 1000`  | 0,028s      | 0,017s   |
| `genered 10000` | 1,190s      | 1,012s   |

## Вывод
Несмотря на более высокоуровневые абстрацкии (классы использующие таблицу виртуальных методов) разница в скорости остается на уровне погрешности.

Однако, абсолютный ООП подход тербует небольшого овер-инжениринга (модуль с кораблём). Я мог бы его избежать, но оставил, как демонстарицю возможных трудностей при спорном применении ООП подхода.